/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

plugins {
    id "base"
    id "java"
    id 'de.undercouch.download' version '4.0.4'
}

def homePath = System.properties['user.home']

task zip(type: Zip, group: "Archive", description: "Archives sources in a zip file") {
    from("$projectDir") {
        exclude "**/.gradle"
    }
    archiveFileName = "ZeroDevelop-SDK.zip"
}

task downloadLibs(type: Download, description: "Download required Libraries") {
    src 'https://www.intent.store/zerodevelop/sdk/ZeroDevelop-SDK-1.0.0.jar'
    dest 'libs/ZeroDevelop-SDK-1.0.0.jar'
}

task setup() {
    println 'Starting!'
}

task install() {
    //needs to run gradlew compileJava
    //compiled classes stored at \out\production\ZeroDevelop-SDK\store\intent\zerodevelop
    //if compiled by gradle, check \build\classes\java\main\store\intent\zerodevelop
    //compiled classes need to go to userdir\intentlauncher\ZeroDay\ZeroDevelop
}

install.dependsOn compileJava
setup.dependsOn downloadLibs
defaultTasks 'setup'

dependencies {
    implementation files('libs/ZeroDevelop-SDK-1.0.0.jar')
}

sourceSets {
    main {
        java {
            srcDirs = ['store/intent/zerodevelop']
        }
    }
}